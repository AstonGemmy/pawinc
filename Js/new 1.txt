	
	var documentObject = document.documentElement;
	// Slide show scripts
	var current_slide = 0;
	var slide_timer_delay = 3000;
	fetch('users.json')
		.then(response => response.json())
		.then(data => slideData(data))
		.catch(err => console.log(err))
	;
	slideShow(current_slide);
	
	//	Increases/decrease opacity of header on scroll down/up respectively
	const fadeHeader = () => {		
		var BG_opacityValue = (0 + documentObject.scrollTop / 300);
		var BS_opacityValue = (BG_opacityValue / 50);		
		var elem = document.getElementById('header');
		elem.style.background = (`rgba(255,255,255, ${BG_opacityValue})`);
		elem.style.boxShadow = (`0px 0px 5px rgba(0,0,0, ${BS_opacityValue})`);
	}
	
	//	Alter header styles on scroll
	const mutateHeader = () => {		
		var header = document.getElementById("header");
		var brand_name = document.getElementById("brand-name");	
		// When the user scrolls down 80px from the top of the document, resize the navbar's padding and the logo's font size
		if (document.body.scrollTop > 80 || documentObject.scrollTop > 80) {
			header.classList.add("header-on-scroll");
			brand_name.classList.add("brand-name-on-scroll");
		} else {
			header.classList.remove("header-on-scroll");
			brand_name.classList.remove("brand-name-on-scroll");
		}		
	}
	
	//	Scroller options object
	const scrollerOptions = {
		"testimonies":[
			"testimonies-container",
			"testimonies-cover",
			3,
			1
		],
		
		"excerpts":[
			"excerpts-slide",
			"excerpts-slide",
			4,
			1
		],
	};
	
	//scrollerOptions["newData"] = ["new-slide","new-slide"];
	
	Object.keys(scrollerOptions).forEach((optionKey, index) => {
		document.getElementById(optionKey).addEventListener("click", option => {
			var window__width = documentObject.clientWidth;
			if (window__width < 702) {
				var targetCount = scrollerOptions[optionKey][3];
			} else {
				var targetCount = scrollerOptions[optionKey][2];
			}
			rootNode = optionKey;
			controlNode = scrollerOptions[optionKey][0];
			actionNode = scrollerOptions[optionKey][1];
			targetNode = option.target.id || option.target.parentNode.id;
			scroll_API(rootNode,controlNode,actionNode,targetNode,targetCount);
		});
	});
	
	function scroll_API(rootNode,controlNode,actionNode,targetNode,targetCount) {
		//	Testimonies section directional controls
		var item__width = document.getElementById(controlNode).clientWidth;
		if (targetNode.includes("left")) {
			document.getElementById(actionNode).scrollBy({left:(-item__width * targetCount), behavior:'smooth'});
		} else if (targetNode.includes("right")) {
			document.getElementById(actionNode).scrollBy({left:(item__width * targetCount), behavior:'smooth'});
		}
	}	
	
	function slideData(adminData) {
		var slideShow_container = document.getElementById("slideshow-container");		
		var dataLength = adminData.length;
		for (var x = 0; x < dataLength; x++) {			
			slideShow_container.innerHTML += '<div class="slides">\n\
				<img src="Images/Slides/' + adminData[x].adminPic + '" class="responsiveImage">\n\
				<div class="slide-text">\n\
					<div class="slide-title-positioning">\n\
						<div class="slide-font-title">' + adminData[x].adminName + '</div>\n\
						<br/>\n\
						<div class="slide-font-subtitle">' + adminData[x].adminPosition + '</div>\n\
					</div>\n\
				</div>\n\
			</div>';
		}
	}
	
	//	Slideshow directional controls
	document.getElementById("slide-cover").addEventListener("click", elem => {
		var current_slide_index;
		var slide_length = document.getElementsByClassName("slides").length;		
		var slide_items = document.getElementById("slide-item-cover");
		var slide_items_length = slide_items.children.length;		
		for (var i = 0; i < slide_items_length; i++) {
			((index) => {
				if (slide_items.children[i].className.includes("active")) {
					current_slide_index = index;
				}
			})(i);
		}
		if (elem.target.id.includes("right") || elem.target.parentNode.id.includes("right")) {
			current_slide = (current_slide_index + 1);
			if (current_slide > (slide_length - 1)) {current_slide = 0;}
			clearTimeout(slide_timer);
			slideShow(current_slide);
		} else if (elem.target.id.includes("left") || elem.target.parentNode.id.includes("left")) {
			current_slide = (current_slide_index - 1);
			if (current_slide < 0) {current_slide = (slide_length - 1);}
			clearTimeout(slide_timer);
			slideShow(current_slide);
		}
	});
	
	//	Slideshow function
	function slideShow(current_slide) {	
		var slide__container = document.getElementById('slideshow-container');
		var slide_item = slide__container.getElementsByClassName('slides');
		var slide_indicator = document.getElementsByClassName("slide-item-selector");		
		for (var j = 0; j < slide_indicator.length; j++) {
		   slide_indicator[j].className = slide_indicator[j].className.replace(" slide-item-selector-active", "");
		}
		current_slide = Math.abs(current_slide);
		current_slide++;		
		slide_position = slide_item[current_slide - 1].offsetLeft;
		if (current_slide == 1) {
			slide__container.scrollTo({
				left:slide_position
			});	
		} else {
			slide__container.scrollTo({
				left:slide_position,
				behavior:"smooth"
			});
		}
		slide_indicator[current_slide - 1].className += " slide-item-selector-active";
		if (current_slide > (slide_item.length - 1)) {current_slide = 0;}		
		slide_timer = setTimeout(function() {
			slideShow(current_slide);
		}, slide_timer_delay);		
	}
	
	//	Instantiating and executing IntersectionObserver API
	let observer = new IntersectionObserver((entries, observer) => {		
		entries.forEach(entry => {			
			if (entry.isIntersecting) {
				entry.target.querySelector('.slide-text .slide-title-positioning .slide-font-title').classList.add("is-visible");
				entry.target.querySelector('.slide-text .slide-title-positioning .slide-font-subtitle').classList.add("is-visible");
			} else {
				entry.target.querySelector('.slide-text .slide-title-positioning .slide-font-title').classList.remove("is-visible");
				entry.target.querySelector('.slide-text .slide-title-positioning .slide-font-subtitle').classList.remove("is-visible");
			}			
		});		
	}, {root:document.querySelector('#slideshow-container'), rootMargin:"0px 0px 0px 0px", threshold:0.75});
	//	Observed elements
	document.querySelectorAll('#slideshow-container .slides').forEach(img => {
		observer.observe(img);
	});
	
	//	Handles on scroll events
	window.addEventListener('scroll', perform => {
		mutateHeader();
		fadeHeader();		
	});